{"ast":null,"code":"import _regeneratorRuntime from\"/Users/fayegong/Documents/GitHub/travis/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/fayegong/Documents/GitHub/travis/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/fayegong/Documents/GitHub/travis/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/fayegong/Documents/GitHub/travis/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useEffect}from'react';import\"rbx/index.css\";import{Container,Title}from'rbx';import CourseList from'./components/CourseList';var meetsPat=/^ *((?:M|Tu|W|Th|F)+) +(\\d\\d?):(\\d\\d) *[ -] *(\\d\\d?):(\\d\\d) *$/;var Banner=function Banner(_ref){var title=_ref.title;return React.createElement(Title,null,title||'[loading...]');};var timeParts=function timeParts(meets){var _ref2=meetsPat.exec(meets)||[],_ref3=_slicedToArray(_ref2,6),match=_ref3[0],days=_ref3[1],hh1=_ref3[2],mm1=_ref3[3],hh2=_ref3[4],mm2=_ref3[5];return!match?{}:{days:days,hours:{start:hh1*60+mm1*1,end:hh2*60+mm2*1}};};var addCourseTimes=function addCourseTimes(course){return _objectSpread({},course,{},timeParts(course.meets));};var addScheduleTimes=function addScheduleTimes(schedule){return{title:schedule.title,courses:schedule.courses.map(addCourseTimes)};};var App=function App(){var _useState=useState({title:'',courses:[]}),_useState2=_slicedToArray(_useState,2),schedule=_useState2[0],setSchedule=_useState2[1];var url='https://www.cs.northwestern.edu/academics/courses/394/data/cs-courses.php';useEffect(function(){var fetchSchedule=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,json;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:response=_context.sent;if(response.ok){_context.next=5;break;}throw response;case 5:_context.next=7;return response.json();case 7:json=_context.sent;setSchedule(addScheduleTimes(json));case 9:case\"end\":return _context.stop();}}},_callee);}));return function fetchSchedule(){return _ref4.apply(this,arguments);};}();fetchSchedule();},[]);return React.createElement(Container,null,React.createElement(Banner,{title:schedule.title}),React.createElement(CourseList,{courses:schedule.courses}));};export default App;","map":{"version":3,"sources":["/Users/fayegong/Documents/GitHub/travis/src/App.js"],"names":["React","useState","useEffect","Container","Title","CourseList","meetsPat","Banner","title","timeParts","meets","exec","match","days","hh1","mm1","hh2","mm2","hours","start","end","addCourseTimes","course","addScheduleTimes","schedule","courses","map","App","setSchedule","url","fetchSchedule","fetch","response","ok","json"],"mappings":"mvCAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAO,eAAP,CACA,OAASC,SAAT,CAAoBC,KAApB,KAAiC,KAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,gEAAjB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,UAAGC,CAAAA,KAAH,MAAGA,KAAH,OACb,qBAAC,KAAD,MAASA,KAAK,EAAI,cAAlB,CADa,EAAf,CAIA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,WACiBJ,QAAQ,CAACK,IAAT,CAAcD,KAAd,GAAwB,EADzC,+BAClBE,KADkB,UACXC,IADW,UACLC,GADK,UACAC,GADA,UACKC,GADL,UACUC,GADV,UAEzB,MAAO,CAACL,KAAD,CAAS,EAAT,CAAc,CACnBC,IAAI,CAAJA,IADmB,CAEnBK,KAAK,CAAE,CACLC,KAAK,CAAEL,GAAG,CAAG,EAAN,CAAWC,GAAG,CAAG,CADnB,CAELK,GAAG,CAAEJ,GAAG,CAAG,EAAN,CAAWC,GAAG,CAAG,CAFjB,CAFY,CAArB,CAOD,CATD,CAWA,GAAMI,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,MAAM,0BACxBA,MADwB,IAExBb,SAAS,CAACa,MAAM,CAACZ,KAAR,CAFe,GAA7B,CAKA,GAAMa,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,QAAQ,QAAK,CACpChB,KAAK,CAAEgB,QAAQ,CAAChB,KADoB,CAEpCiB,OAAO,CAAED,QAAQ,CAACC,OAAT,CAAiBC,GAAjB,CAAqBL,cAArB,CAF2B,CAAL,EAAjC,CAKA,GAAMM,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACgB1B,QAAQ,CAAC,CAAEO,KAAK,CAAE,EAAT,CAAaiB,OAAO,CAAE,EAAtB,CAAD,CADxB,wCACTD,QADS,eACCI,WADD,eAEhB,GAAMC,CAAAA,GAAG,CAAG,2EAAZ,CAEA3B,SAAS,CAAC,UAAM,CACd,GAAM4B,CAAAA,aAAa,2FAAI,2KACEC,CAAAA,KAAK,CAACF,GAAD,CADP,QACfG,QADe,kBAEhBA,QAAQ,CAACC,EAFO,8BAEGD,CAAAA,QAFH,8BAGFA,CAAAA,QAAQ,CAACE,IAAT,EAHE,QAGfA,IAHe,eAIrBN,WAAW,CAACL,gBAAgB,CAACW,IAAD,CAAjB,CAAX,CAJqB,sDAAJ,kBAAbJ,CAAAA,aAAa,2CAAnB,CAMAA,aAAa,GACd,CARQ,CAQN,EARM,CAAT,CAUA,MACE,qBAAC,SAAD,MACE,oBAAC,MAAD,EAAQ,KAAK,CAAGN,QAAQ,CAAChB,KAAzB,EADF,CAEE,oBAAC,UAAD,EAAY,OAAO,CAAGgB,QAAQ,CAACC,OAA/B,EAFF,CADF,CAMD,CApBD,CAsBA,cAAeE,CAAAA,GAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport \"rbx/index.css\";\nimport { Container, Title } from 'rbx';\nimport CourseList from './components/CourseList';\n\nconst meetsPat = /^ *((?:M|Tu|W|Th|F)+) +(\\d\\d?):(\\d\\d) *[ -] *(\\d\\d?):(\\d\\d) *$/;\n\nconst Banner = ({ title }) => (\n  <Title>{ title || '[loading...]' }</Title>\n);\n\nconst timeParts = meets => {\n  const [match, days, hh1, mm1, hh2, mm2] = meetsPat.exec(meets) || [];\n  return !match ? {} : {\n    days,\n    hours: {\n      start: hh1 * 60 + mm1 * 1,\n      end: hh2 * 60 + mm2 * 1\n    }\n  };\n};\n\nconst addCourseTimes = course => ({\n  ...course,\n  ...timeParts(course.meets)\n});\n\nconst addScheduleTimes = schedule => ({\n  title: schedule.title,\n  courses: schedule.courses.map(addCourseTimes)\n});\n\nconst App = () => {\n  const [schedule, setSchedule] = useState({ title: '', courses: [] });\n  const url = 'https://www.cs.northwestern.edu/academics/courses/394/data/cs-courses.php';\n\n  useEffect(() => {\n    const fetchSchedule =  async () => {\n      const response = await fetch(url);\n      if (!response.ok) throw response;\n      const json = await response.json();\n      setSchedule(addScheduleTimes(json));\n    }\n    fetchSchedule();\n  }, [])\n\n  return (\n    <Container>\n      <Banner title={ schedule.title } />\n      <CourseList courses={ schedule.courses } />\n    </Container>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}